{{!-- views/userRequests.handlebars --}}

<div class="min-h-screen bg-stevensBg font-body text-stevensMaroon px-4">
  <div class="max-w-4xl mx-auto py-10">
    <h1 class="text-3xl font-heading mb-6">My Requests</h1>

    {{#if missingRequests.length}}
      <ul class="space-y-6">
        {{#each missingRequests}}
          <li class="bg-stevensWhite rounded-2xl shadow p-6 flex flex-col sm:flex-row sm:justify-between sm:items-start">
            
            <!-- Request Details -->
            <div class="flex-1">
              <p class="text-sm text-gray-500">
                <strong>Type:</strong> {{this.itemType}}
              </p>
              <p class="text-lg font-semibold text-gray-800 mt-1">
                {{this.itemName}}
              </p>
              {{#if this.description}}
                <p class="text-gray-700 mt-2">{{this.description}}</p>
              {{/if}}
              <p class="text-sm text-gray-400 mt-3">
                Requested on {{formatDate this.createdAt "MMM D, YYYY"}}
              </p>
            </div>

            <!-- Status Badge -->
            <div class="mt-4 sm:mt-0 flex-shrink-0">
              {{#if (eq this.status "Pending")}}
                <span class="inline-block px-4 py-1 text-sm font-medium bg-yellow-100 text-yellow-800 rounded-full">
                  Pending
                </span>
              {{else if (eq this.status "Approved")}}
                <span class="inline-block px-4 py-1 text-sm font-medium bg-green-100 text-green-800 rounded-full">
                  Approved
                </span>
              {{else if (eq this.status "Rejected")}}
                <span class="inline-block px-4 py-1 text-sm font-medium bg-red-100 text-red-800 rounded-full">
                  Rejected
                </span>
              {{/if}}
            </div>
          </li>
        {{/each}}
      </ul>
    {{else}}
      <p class="text-center italic text-stevensGray">
        You havenâ€™t submitted any requests yet.
      </p>
    {{/if}}
  </div>
</div>
